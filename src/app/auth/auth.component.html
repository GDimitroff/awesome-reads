<section class="p-5">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-md-6 offset-md-3">
                <h2>{{ isLoginMode ? 'Sign in' : 'Register new account'}}</h2>
                <hr>
                <div *ngIf="error" class="alert alert-danger">{{ error }}</div>
                <div *ngIf="isLoading" class="text-center py-3">
                    <app-loading></app-loading>
                </div>
                <form #authForm="ngForm" (ngSubmit)="onSubmit(authForm)" *ngIf="!isLoading">
                    <div class="form-group pb-3">
                        <label for="email">E-mail</label>
                        <input type="email" id="email" class="form-control" ngModel name="email" required email>
                    </div>
                    <div class="form-group pb-3">
                        <label for="password">Password</label>
                        <input type="password" autocomplete="new-password" id="new-password" class="form-control" ngModel name="password" required
                            minlength="6" #password>
                    </div>
                    <div class="form-group pb-3" *ngIf="!isLoginMode">
                        <label for="repeatPassword">Repeat password</label>
                        <input type="password" id="repeatPassword"
                            class="form-control {{ password.value != repeatPassword.value || repeatPassword.value == '' ? 'ng-invalid' : 'ng-valid'}}"
                            ngModel name="repeatPassword" required minlength="6" #repeatPassword>
                    </div>
                    <div>
                        <button class="btn btn-success  " type="submit" [disabled]="!authForm.valid">{{ isLoginMode ?
                            'Login' : 'Register' }}</button> |
                        <button class="btn btn-dark" type="button" (click)="onSwitchMode()">Switch to {{
                            isLoginMode ? 'Register' : 'Login' }}</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>